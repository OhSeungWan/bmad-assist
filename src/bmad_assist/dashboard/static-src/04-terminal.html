
            <!-- Terminal Output (hidden when settings or experiments panel is open) -->
            <div x-show="!settingsView.open && !experimentsView.open"
                 class="flex-1 flex flex-col bg-background overflow-hidden relative">
                <!-- Tabs - Basecoat tabs -->
                <div class="tabs w-full px-4 py-2 border-b border-border">
                    <nav role="tablist" aria-orientation="horizontal">
                        <template x-for="tab in ['All', 'Claude', 'Opus', 'Gemini', 'GLM']" :key="tab">
                            <button type="button"
                                    role="tab"
                                    :aria-selected="activeTab === tab"
                                    :tabindex="activeTab === tab ? 0 : -1"
                                    @click="activeTab = tab; autoScroll = true; $nextTick(() => scrollToBottom())">
                                <span x-text="tab"></span>
                                <span x-show="getTabCount(tab) > 0"
                                      class="badge-secondary ml-1"
                                      x-text="`${getTabCount(tab)}`"></span>
                            </button>
                        </template>
                    </nav>
                </div>

                <!-- Output Lines -->
                <div class="flex-1 overflow-y-auto p-4 font-mono focus:outline-none focus:ring-1 focus:ring-ring"
                     id="terminal-output"
                     x-ref="terminal"
                     tabindex="0"
                     :style="`font-size: ${terminalFontSize}px`"
                     @scroll="handleScroll"
                     @click="handleTerminalClick($event)"
                     @wheel="handleTerminalWheel($event)"
                     @keydown="handleTerminalKeydown($event)"
                     @keydown.end="autoScroll = true; scrollToBottom()">
                    <template x-for="(line, idx) in filteredOutput" :key="idx">
                        <div class="py-0.5 hover:bg-card/50">
                            <span class="text-muted-foreground">[<span x-text="line.time"></span>]</span>
                            <span :class="getProviderColor(line.provider)" x-text="`[${line.provider || 'bmad'}]`"></span>
                            <span x-html="formatLine(line.text)"></span>
                        </div>
                    </template>
                </div>

                <!-- Auto-scroll indicator -->
                <div x-show="!autoScroll"
                     x-transition:enter="transition ease-out duration-200"
                     x-transition:leave="transition ease-in duration-150"
                     class="absolute bottom-4 right-4 bg-primary text-primary-foreground px-3 py-1 rounded-full text-sm cursor-pointer shadow-lg flex items-center gap-1"
                     title="Click, press End, or switch tabs to scroll"
                     @click="autoScroll = true; scrollToBottom()">
                    <i data-lucide="arrow-down" class="w-4 h-4"></i> New output
                </div>
            </div>
